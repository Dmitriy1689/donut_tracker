# üç© Donut Tracker API
CRUD REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä—É–ø–ø–æ–≤—ã–º–∏ –¥–µ–Ω–µ–∂–Ω—ã–º–∏ —Å–±–æ—Ä–∞–º–∏.  
–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Django REST Framework**, **PostgreSQL** –∏ **Redis**.

---

## üìå –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- –ö–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–±–æ—Ä–∞–º–∏ –∏ –ø–ª–∞—Ç–µ–∂–∞–º–∏ (CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏)  
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É–º–º —Å–±–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ —Å–∏–≥–Ω–∞–ª—ã  
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–±–æ—Ä–æ–≤  
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π  
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `django-redis`  
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é `Faker`  
- –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `drf-spectacular`  

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- Python 3.11  
- Django 5  
- Django REST Framework  
- PostgreSQL  
- Redis  
- Docker + Docker Compose  

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### üîπ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker  
- Docker Compose  

### üîπ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
git clone git@github.com:Dmitriy1689/donut_tracker.git
cd donut_tracker
```
### üîπ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
SECRET_KEY=your-secret-key-here
DEBUG=True
POSTGRES_DB=donut_tracker
POSTGRES_USER=user
POSTGRES_PASSWORD=password
POSTGRES_HOST=db
POSTGRES_PORT=5432
REDIS_URL=redis://redis:6379/1
```

**–ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**
```bash
docker-compose up -d --build
```

**–°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
```bash
docker-compose exec web python manage.py createsuperuser
```

**–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
```bash
docker-compose exec web python manage.py fill_db --users 5 --collects 3 --payments 10
```

**–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤**
```bash
docker-compose exec web pytest
```

**–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ CELERY**
```bash
docker-compose logs celery
```

---

## üåê –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [http://127.0.0.1:8000/api/v1/docs/](http://127.0.0.1:8000/api/v1/docs/)  
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å: [http://127.0.0.1:8000/admin/](http://127.0.0.1:8000/admin/)  
- –°–±–æ—Ä—ã: [http://127.0.0.1:8000/api/v1/collects/](http://127.0.0.1:8000/api/v1/collects/)  
- –ü–ª–∞—Ç–µ–∂–∏: [http://127.0.0.1:8000/api/v1/payments/](http://127.0.0.1:8000/api/v1/payments/)  
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: [http://127.0.0.1:8000/api/v1/api-token-auth/](http://127.0.0.1:8000/api/v1/api-token-auth/)  

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
donut_tracker/
‚îú‚îÄ‚îÄ config/           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django
‚îú‚îÄ‚îÄ collects/         # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å–±–æ—Ä–æ–≤
‚îú‚îÄ‚îÄ payments/         # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
‚îú‚îÄ‚îÄ users/            # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ .env.example
```

---

## üîë –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞**
```bash
curl -X POST http://127.0.0.1:8000/api/v1/api-token-auth/   -H "Content-Type: application/json"   -d '{"username": "your_username", "password": "your_password"}'
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞**
```bash
curl -H "Authorization: Token your_token_here" http://127.0.0.1:8000/api/v1/collects/
```

---

### üìå –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

**–°–æ–∑–¥–∞–Ω–∏–µ —Å–±–æ—Ä–∞**
```bash
curl -X POST http://127.0.0.1:8000/api/v1/collects/   -H "Authorization: Token <your token>"   -H "Content-Type: application/json"   -d '{
    "title": "Medical Treatment Fund",
    "description": "Fundraising for medical expenses",
    "occasion": "medicine",
    "target_amount": 50000,
    "end_datetime": "2025-12-31T23:59:59Z"
  }'
```

**–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞**
```bash
curl -X POST http://localhost:8000/api/v1/payments/ \
  -H "Authorization: Token your_token_here" \
  -H "Content-Type: application/json" \
  -d '{
    "collect": 1,
    "amount": 1000,
    "hide_amount": false
  }'
```

---

## ‚öôÔ∏è –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏**
```bash
python manage.py fill_db --users 10 --collects 5 --payments 20
```

---

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Å—É–º–º—ã –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–æ–Ω–∞—Ç–µ—Ä–æ–≤ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/—É–¥–∞–ª–µ–Ω–∏–∏ –ø–ª–∞—Ç–µ–∂–µ–π  
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É–º–º—ã –ø–ª–∞—Ç–µ–∂–µ–π –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–ª–µ–≤–æ–π —Å—É–º–º—ã —Å–±–æ—Ä–∞  
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ GET-–∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
- JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è –∑–∞—â–∏—Ç—ã API endpoints  
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É —Å–±–æ—Ä–∞  
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —Å–±–æ—Ä–∞ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–µ–≤–æ–π —Å—É–º–º—ã  
